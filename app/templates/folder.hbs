{{page-title 'Files'}}

<h1>{{this.model.folder}}</h1>

<p><LinkTo @route="files"><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Files</LinkTo></p>

<table class="table">
  <tbody>
    {{#each this.model.files as |file|}}
    <tr>
    <td>
    
      <LinkTo @route="file" @models={{array file.folder file.name}}>{{file.name}}</LinkTo>
    </td>
  
    <td>
    
    <LinkTo @route="file" @models={{array file.folder file.name}}>
    <img src="/game/uploads/{{file.path}}" alt="{{file.name}}" class="thumbnail">
    </LinkTo>
  
    </td>
    <td>{{file.size}}KB</td>
    </tr>
    {{/each}}
  </tbody>
</table>

<b>Folder Size:</b> {{this.model.folder_size}}KB

{{#if this.isApproved}}

  <div class="action-buttons">
    <button {{action (mut this.showUpload) true}} class="btn btn-primary">Upload</button>
  </div>


  {{#if this.showUpload}}
    <FileUploader @uploaded={{action "uploaded"}} @folder="{{this.model.folder}}" />
  {{/if}}
{{/if}}